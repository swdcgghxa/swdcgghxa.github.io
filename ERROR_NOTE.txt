## 打包

## 環境
conda create --name pyg python=3.6 tensorflow
conda activate pyg
python -c "import tensorflow"

pip uninstall minst_data_expansion_o
pip install minst_data_expansion_o
pip -m minst_data_expansion_o

## 打包


pyarmor obfuscate --recursive --output minst_data_expansion/obfuscate/minst_data_expansion_o minst_data_expansion/src/minst_data_expansion/__init__.py

python ./setup.py sdist bdist_wheel --plat-name="win_x86_64" --py-limited-api=cp36

python -m pip install twine pyarmor readme-renderer
python -m readme_renderer README.rst -o /tmp/README.html

## 上傳
python -m twine upload  dist/*
pipy:
  40840159
  ....



## ERROR
==============
ModuleNotFoundError: No module named 'keyring.util.escape'
--------
pip3 install --upgrade keyrings.alt 
==============
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
Invalid value for classifiers. Error: Classifier 'Operating System :: POSIX :: LinuxProgramming Language :: Python :: 3.6' is not a valid classifier.
--------
    classifiers= [
        "Programming Language :: Python :: 3.6",
        "Operating System :: Microsoft :: Windows",
        "Operating System :: POSIX :: Linux",
    ],
==============
NOTE: Try --verbose to see response content.
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
The description failed to render in the default format of reStructuredText. See https://pypi.org/help/#description-content-type for more information.
--------
1. 此錯誤請把文件改英文，描述也改英文。
2. setuptools 請安裝>=51.x.p
3. pip install -U wheel
4. 在失敗行建議將所有軟件包升級 
   (慎用L)$pip freeze --local | grep -v '^-e' | cut -d = -f 1  | xargs -n1 pip install -U
   (慎用W)pip list -o --format legacy|awk '{print $1}'` ; do pip install --upgrade $i; done
==============
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
The description failed to render in the default format of reStructuredText. See https://pypi.org/help/#description-content-type for more information.
--------------
此錯誤請把
==============
 No module named pyarmor.__main__; 'pyarmor' is a package and cannot be directly executed
--------
此錯誤要知道
應該是 pyarmor ...
不可是 python -m pyarmor ...
因為pyarmor 是全域執行檔所以當知道 python中的Script 沒有pyarmor.py 可能有pyarmor.exe
=============
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
Binary wheel 'minst_data_expansion_o-1.0a1-py3-none-win_x86_64.whl' has an unsupported platform tag 'win_x86_64'.
=============
HTTPError: 400 Client Error: File already exists. See https://pypi.org/help/#file-name-reuse for more information. for url: https://upload.pypi.org/legacy/
--------
https://stackoverflow.com/questions/52016336/how-to-upload-new-versions-of-project-to-pypi-with-twine
重複上傳，而且還不能刪除，PIPY特別訂製
還有建議
可以略過：twine upload --skip-existing dist/*
=============
HTTPError: 400 Client Error: '1.3-linux' is an invalid value for Version. Error: Start and end with a letter or numeral containing only ASCII numeric and '.', '_' and '-'. See https://packaging.python.org/specifications/core-metadata for more information. for url: https://upload.pypi.org/legacy/
